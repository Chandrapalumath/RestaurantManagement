<mat-card class="user-card p-4 shadow">

  <h2>Create User</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">

    <mat-form-field appearance="outline" class="w-100 mb-2">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email">
      @if (form.get('email')?.invalid && form.get('email')?.touched) {
      <mat-error>Valid email is required</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-2">
      <mat-label>Full Name</mat-label>
      <input matInput formControlName="fullName">
      @if (form.get('fullName')?.invalid && form.get('fullName')?.touched) {
      <mat-error>Valid Name is required must be greater than 2</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-2">
      <mat-label>Mobile Number</mat-label>
      <input matInput formControlName="mobileNumber" type="tel">
      @if (form.get('mobileNumber')?.invalid && form.get('mobileNumber')?.touched) {
      <mat-error>Must be a 10 digit number</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-2">
      <mat-label>Password</mat-label>
      <input matInput type="password" formControlName="password">
      @if (form.get('password')?.invalid && form.get('password')?.touched) {
      <mat-error>Contain at least one lowercase letter, one uppercase letter, one digit, one special character and
        greater than 11</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role">
        @for (r of roles; track r) {
        <mat-option [value]="r">{{ r }}</mat-option>
        } @empty {
        <mat-option disabled>No roles available</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
      Create User
    </button>

  </form>

</mat-card>