<mat-card class="p-4 shadow">
  <h2>Customer Reviews</h2>
  <app-search-box placeholderText="Search Reviews ...." (textChanged)="onSearch($event)">
  </app-search-box>
</mat-card>

<mat-card class="mt-3 p-3 shadow">

  @for (r of reviews(); track r.reviewId) {
  <div class="border p-3 mb-2">
    <div class="d-flex justify-content-between">
      <strong>{{ r.customerName }}</strong>
      <span class="badge bg-warning text-dark">‚≠ê {{ r.rating }}/5</span>
    </div>
    <div class="text-muted small">{{ r.createdAt | date:'medium' }}</div>
    @if (r.comment) {
    <div class="mt-2 italic">"{{ r.comment }}"</div>
    }
  </div>
  }@empty {
  <div class="text-center text-muted">No reviews found</div>
  }

  <div class="d-flex justify-content-between mt-3">
    <button mat-button (click)="prev()" [disabled]="page() === 1">Prev</button>
    <span>Page {{ page() }}</span>
    <button mat-button (click)="next()" [disabled]="page() * pageSize() >= totalCount()">Next</button>
  </div>
</mat-card>