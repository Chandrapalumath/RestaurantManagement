<mat-card class="p-3 shadow">
  <h5>Customer Search</h5>

  <mat-form-field appearance="outline" class="w-100 mb-3">
    <mat-label>Mobile Number</mat-label>
    <input matInput [(ngModel)]="mobileNumber" type="tel">
  </mat-form-field>

  <button mat-raised-button color="primary" (click)="searchCustomer()">
    Search
  </button>

  <hr class="my-3">

  @if (foundCustomer) {
    <div class="mt-3 p-2 bg-light rounded">
      <p class="mb-1"><strong>Name:</strong> {{ foundCustomer.name }}</p>
      <p class="mb-0"><strong>Mobile:</strong> {{ foundCustomer.mobileNumber }}</p>
      
      <button mat-button color="warn" class="mt-2" (click)="foundCustomer = null">
        Clear Selection
      </button>
    </div>
  } @else {
    <div class="mt-3">
      <p class="text-muted small">Customer not found. Create a new one:</p>
      
      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Customer Name</mat-label>
        <input matInput [(ngModel)]="customerName">
      </mat-form-field>

      <button mat-raised-button color="accent" (click)="createCustomer()" [disabled]="!customerName">
        Add Customer
      </button>
    </div>
  }

</mat-card>